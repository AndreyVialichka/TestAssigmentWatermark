(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function d(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(e){if(e.ep)return;e.ep=!0;const t=d(e);fetch(e.href,t)}})();window.addEventListener("DOMContentLoaded",I=>{const r=document.getElementById("image-upload"),d=document.getElementById("main-image"),i=document.getElementById("watermark-upload");let e=document.getElementById("watermark-image"),t=document.getElementById("selected-watermark-image");const s=document.getElementById("apply-watermark-btn"),w=document.getElementById("download-link"),h=document.getElementById("result-image"),f=document.getElementById("watermark-position-x"),y=document.getElementById("watermark-position-y"),g=document.getElementById("watermark-opacity"),E=document.getElementById("watermark-opacity-value"),p=document.getElementById("watermark-size"),v=document.getElementById("watermark-size-value"),L=document.querySelectorAll(".watermark-image"),o=document.createElement("canvas"),l=o.getContext("2d");function B(){const n=r.files[0],a=new FileReader;a.onload=function(c){d.src=c.target.result},a.readAsDataURL(n)}function O(n){const a=i.files[0],c=new FileReader;c.onload=function(u){e.src=u.target.result},c.readAsDataURL(a)}function P(){E.textContent=g.value}function U(){v.textContent=p.value}function m(){const n=new Image;n.src=d.src,n.onload=function(){o.width=n.width,o.height=n.height,l.clearRect(0,0,o.width,o.height),l.drawImage(n,0,0);const a=new Image;a.src=t.src,a.onload=function(){const c=parseFloat(g.value),u=parseFloat(p.value),x=a.width*u,z=a.height*u,A=parseInt(f.value),H=parseInt(y.value);l.globalAlpha=c,l.drawImage(a,A,H,x,z);const k=o.toDataURL("image/jpeg");h.src=k,w.href=k,w.style.display="inline"}}}function b(){const n=this.getAttribute("src");t.src=n,m()}r.addEventListener("change",B),i.addEventListener("change",O),f.addEventListener("change",m),y.addEventListener("change",m),g.addEventListener("input",P),p.addEventListener("input",U),L.forEach(function(n){n.addEventListener("click",b)}),s.addEventListener("click",m)});
